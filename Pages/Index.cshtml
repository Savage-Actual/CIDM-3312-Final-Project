@page
@model CIDM_3312_Final_Project.Pages.IndexModel

@{
    ViewData["Title"] = "Halo Weapon Sales";
}

<h1 class="mb-4">Welcome to Halo Weapon Sales</h1>

<div id="featuredCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
    <div class="carousel-inner">
@for (int i = 0; i < Model.FeaturedWeapons.Count; i++)
{
    var weapon = Model.FeaturedWeapons[i];
    string bgImage = "/images/default_weapon_bg.jpg";

    if (weapon.Name == "Fuel Rod Gun") bgImage = "/images/fuelrodcannon.png";
    else if (weapon.Name == "Gravity Hammer") bgImage = "/images/gravityhammer.png";
    else if (weapon.Name == "Rocket Launcher") bgImage = "/images/rocketlauncher.png";
    else if (weapon.Name == "Concussion Rifle") bgImage = "/images/concussionrifle.png";
    else if (weapon.Name == "Plasma Launcher") bgImage = "/images/plasmalauncher.png";

    <div class="carousel-item @(i == 0 ? "active" : "")">
        <div class="d-flex justify-content-center align-items-center text-white"
             style="height:300px; background: url('@bgImage') center center / cover no-repeat;">
            <div class="text-center bg-dark bg-opacity-50 p-3 rounded">
                <h2>@weapon.Name</h2>
                <p>Type: @weapon.WeaponType</p>
                <p>Damage: @weapon.DamageRating</p>
                <p>Manufacturer: @weapon.Manufacturer?.Name</p>
            </div>
        </div>
    </div>
}
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#featuredCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#featuredCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<div class="row">
    <div class="col-md-4 mb-3">
        <div class="card h-100">
            <div class="card-body">
                <h5 class="card-title">View Weapons</h5>
                <p class="card-text">Browse all available weapons in the arsenal.</p>
                <a class="btn btn-primary" href="/Weapons">Weapons</a>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-3">
        <div class="card h-100">
            <div class="card-body">
                <h5 class="card-title">View Manufacturers</h5>
                <p class="card-text">See weapon manufacturers and their details.</p>
                <a class="btn btn-primary" href="/Manufacturers">Manufacturers</a>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-3">
        <div class="card h-100">
            <div class="card-body">
                <h5 class="card-title">Search Weapons</h5>
                <p class="card-text">Find weapons by name using search and sorting.</p>
                <a class="btn btn-primary" href="/Weapons">Search</a>
            </div>
        </div>
    </div>
</div>
